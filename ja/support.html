<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>サポートと寄付 - TranslationPlugin</title>
    <link rel="icon" href="../favicon.ico">
    <meta name="description" content="IntelliJベースのIDE/Android Studio翻訳プラグインは、多言語翻訳、ドキュメントの翻訳、音声読み上げをサポートしています。">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="../stylesheets/stylesheet.css?v1.0" media="screen">
    <script src="//cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
</head>
<body>
<header class="frame_head">
    <a href="index.html" class="primary">TranslationPlugin</a>
    <a href="start.html">はじめに</a>
    <a href="updates.html">更新</a>
    <a href="support.html" class="selected">サポートと寄付</a>
    <a class="github-icon-wrap" href="https://github.com/YiiGuxing/TranslationPlugin" target="_blank">
        <img class="github-icon" src="../images/github.svg" alt="GitHub"></a>
    <div class="language_links">
        <a href="../en/support.html">English</a>
        <a href="../support.html">中文</a>
        <a href="../ko/support.html">한국어</a>
    </div>
</header>
<div class="frame_wrapper">
    <div class="frame_content support">
        <div class="column">
            <h3 class="column_item_title" style="margin-top: 2rem;">以下の方法で、本プロジェクトをサポートしていただけます。</h3>
            <ul class="column_tip">
                <li><a href="https://github.com/YiiGuxing/TranslationPlugin" target="_blank">GitHub上でスターを付ける</a></li>
                <li>
                    <a href="https://github.com/YiiGuxing/TranslationPlugin/issues/new/choose" target="_blank">バグを報告する</a>
                </li>
                <li>
                    <a href="https://github.com/YiiGuxing/TranslationPlugin/issues/new/choose"
                       target="_blank">アイデアやアドバイスを送る</a>
                </li>
                <li><a href="https://github.com/YiiGuxing/TranslationPlugin" target="_blank">PR を送る</a></li>
                <li>プラグインを友人/同僚と共有する</li>
                <li>
                    このプラグインを気に入っていただけましたら、プラグインに関わる活動を支えるための寄付をご検討ください。
                    <table style="margin-top: 1rem;">
                        <thead>
                        <tr>
                            <th>Open Collective</th>
                            <th>Alipay</th>
                            <th>WeChat Pay</th>
                        </tr>
                        </thead>
                        <tr>
                            <td>
                                <a href="https://opencollective.com/translation-plugin" target="_blank">
                                    <img src="../images/open-collective.svg" width="171px" alt=1>
                                </a>
                            </td>
                            <td><img src="../images/alipay.png" width="240px" alt=1></td>
                            <td><img src="../images/wechat.png" width="240px" alt=1></td>
                        </tr>
                    </table>
                    <div class="support-patrons-note"><b>注：</b>Alipay/WeChat Payを使用して寄付をされたら、コメントまたはメールでお名前/ハンドル、ウェブサイトをお知らせください。フォーマットは以下の通りです：<br/><span
                            class="support-patrons">お名前/ハンドル [&lt;ウェブサイト>] [：コメント]</span>（ウェブサイトとコメントは任意です。例：：<span
                            class="support-patrons">Yii.Guxing &lt;github.com/YiiGuxing>：ファイト！）</span>）<br/>
                        メールで送信する場合は、以下の情報もご提供ください。<br/>
                        <div class="support-patrons" style="max-width: 450px">
                            寄付金額：<br/>
                            決済プラットフォーム：Alipay/WeChat Pay<br/>
                            Alipayユーザー名/WeChat ユーザー名/シングル番号（下 5 桁）：
                        </div>
                        メールアドレス：<a href="mailto:yii.guxing@gmail.com?subject=Donate&body=%E5%90%8D%E5%AD%97%2F%E6%98%B5%E7%A7%B0%3C%E7%BD%91%E7%AB%99%3E%EF%BC%9A%E6%82%A8%E7%9A%84%E7%95%99%E8%A8%80%0A%0A%E6%8D%90%E8%B5%A0%E9%87%91%E9%A2%9D%EF%BC%9A%0A%E6%94%AF%E4%BB%98%E5%B9%B3%E5%8F%B0%EF%BC%9A%E6%94%AF%E4%BB%98%E5%AE%9D%2F%E5%BE%AE%E4%BF%A1%E6%94%AF%E4%BB%98%0A%E6%94%AF%E4%BB%98%E5%AE%9D%E7%94%A8%E6%88%B7%E5%90%8D%2F%E5%BE%AE%E4%BF%A1%E7%94%A8%E6%88%B7%E5%90%8D%2F%E5%8D%95%E5%8F%B7%EF%BC%88%E5%90%8E5%E4%BD%8D%EF%BC%89%EF%BC%9A%0A%0A">yii.guxing@gmail.com</a>
                        (クリックしてメールを送信)<br/>
                        お送りいただいたお名前とウェブサイト、寄付金額は、<a href="#patrons"><b>寄付者</b></a>のリストに記載されます。
                    </div>
                </li>
            </ul>
            <h3 class="column_item_title">ご支援いただきありがとうございます！</h3>
        </div>
        <div id="patrons" class="column">
            <div class="title">寄付者</div>
            <table>
                <tbody id="patronsTableBody">
                <tr>
                    <th class="donator">お名前</th>
                    <th class="website">ウェブサイト</th>
                    <th class="amount">寄付総額</th>
                </tr>
                </tbody>
            </table>
            <div id="placeholder" class="patrons-placeholder">読み込み中…</div>
        </div>
    </div>
</div>
<script>
    function processPatronsList(patronsList) {
        var regx = /^\|\s*(.+?)\s*\|\s*(\[\s*(.+?)\s*]\(\s*(.+?)\s*\))?\s*\|\s*(.+?)\s*\|$/;
        for (var i = 0; i < patronsList.length; i++) {
            var patronsLine = patronsList[i];
            if (patronsLine) {
                var parsedPatron = regx.exec(patronsLine);
                var name = parsedPatron[1];
                var websiteName = parsedPatron[3];
                var websiteUrl = parsedPatron[4];
                var website = null;
                if (websiteName && websiteUrl) {
                    website = {name: websiteName, url: websiteUrl};
                }
                var amount = parsedPatron[5];
                if (name && amount) {
                    appendPatron(name, website, amount);
                }
            }
        }
    }

    var $patronsTableBody = $("#patronsTableBody");

    function appendPatron(name, website, amount) {
        var nameTd = "<td>" + name + "</td>";
        var websiteTd = "<td>" + (website ? "<a href='" + website.url + "' target='_blank'>" + website.name + "</a>" : "") + "</td>";
        var amountTd = "<td>" + amount + "</td>";
        $patronsTableBody.append($("<tr>" + nameTd + websiteTd + amountTd + "</tr>"))
    }

    var date = new Date()
    var t = "" + date.getFullYear() + (date.getMonth() + 1) + date.getDate()
    $.ajax({
        url: "https://cdn.jsdelivr.net/gh/YiiGuxing/TranslationPlugin@master/FINANCIAL_CONTRIBUTORS.md?t=" + t,
        type: "GET",
        dataType: "TEXT",
        success: function (data) {
            processPatronsList(data.split(/\s*\n+\s*/).slice(3));
            $("#placeholder").hide();
        },
        error: function () {
            $("#placeholder").text("加载失败！")
        }
    });
</script>
</body>
</html>
