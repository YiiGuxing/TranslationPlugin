<!DOCTYPE html>
<html lang>
<head>
    <meta charset="UTF-8">
    <title>TranslationPlugin â¤ï¸ Yii.Guxing</title>
    <link rel="icon" href="favicon.ico">
    <meta name="description" content="IntelliJ-based IDEs/Android Studio ç¿»è¯‘æ’ä»¶ï¼Œæ”¯æŒå¤šè¯­è¨€äº’è¯‘ã€æ–‡æ¡£ç¿»è¯‘ã€è¯­éŸ³æœ—è¯»...">
    <meta name="keywords" content="IDEA Plugin,IDEA Translation Plugin,IDEA æ’ä»¶,IDEA ç¿»è¯‘æ’ä»¶,æ’ä»¶">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <link rel="stylesheet" href="css/vue.css">
    <link rel="stylesheet" href="css/app.css">
</head>
<body>
<nav class="app-nav unselectable">
    <div class="left">
        <a id="nav-home" class="nav-logo" data-path="">
            <img src="img/logo.svg" width="40" height="40" alt="logo">
            <span>TranslationPlugin</span>
        </a>
        <a id="nav-docs" data-path="docs"><span
                lang="zh">æ–‡æ¡£</span><span
                lang="en">Docs</span><span
                lang="ja">ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</span><span
                lang="ko">ë¬¸ì„œ</span></a>
        <a id="nav-updates" data-path="updates"><span
                lang="zh">æ›´æ–°</span><span
                lang="en">Updates</span><span
                lang="ja">æ›´æ–°</span><span
                lang="ko">ì—…ë°ì´íŠ¸</span></a>
        <a id="nav-support" data-path="support"><span
                lang="zh">æ”¯æŒä¸èµåŠ©</span><span
                lang="en">Support/Sponsor</span><span
                lang="ja">ã‚µãƒãƒ¼ãƒˆã¨ã‚¹ãƒãƒ³ã‚µãƒ¼</span><span
                lang="ko">ì§€ì› ë° ê¸°ë¶€</span></a>
        <a id="nav-faq" data-path="faq"><span
                lang="zh">FAQ</span><span
                lang="en">FAQ</span><span
                lang="ja">FAQ</span><span
                lang="ko">FAQ</span></a>
    </div>

    <div class="nav-translation--wrapper">
        <a id="nav-translation" class="nav-icon-link nav-translations">
            <img src="img/translation.svg" width="22" height="22" alt="translations">
        </a>
        <div class="nav-translations--menu">
            <ul>
                <li><a id="translation-zh" lang="zh">ç®€ä½“ä¸­æ–‡</a></li>
                <li><a id="translation-en" lang="en">English</a></li>
                <li><a id="translation-jp" lang="ja">æ—¥æœ¬èª</a></li>
                <li><a id="translation-ko" lang="ko">í•œêµ­ì–´</a></li>
            </ul>
            <div class="nav-translations--item-help">
                <a id="help-translate" href="https://github.com/YiiGuxing/TranslationPlugin/tree/pages-staging"
                   target="_blank">ğŸ‘‹
                    <span lang="zh">å¸®åŠ©æˆ‘ä»¬ç¿»è¯‘ï¼</span><span
                            lang="en">Help Us Translate!</span><span
                            lang="ja">ç¿»è¨³ã«ã”å”åŠ›ãã ã•ã„ï¼</span><span
                            lang="ko">ë²ˆì—­ì„ ë„ì™€ì£¼ì„¸ìš”!</span></a>
            </div>
        </div>
    </div>

    <a id="nav-github" class="nav-icon-link" href="https://github.com/YiiGuxing/TranslationPlugin" target="_blank">
        <img src="img/github.svg" width="24" height="24" alt="github">
    </a>
</nav>
<div id="app"></div>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RMH8BJ3BGP"></script>
<script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());
    gtag('config', 'G-RMH8BJ3BGP', {send_page_view: false});

    function gaPageView() {
        gtag('event', 'page_view', {
            page_path: window.location.hash,
        });
    }
</script>
<script>
    LAST_PLUGIN_VERSION = "v3.4";

    function gaPlugin(hook) {
        hook.beforeEach(gaPageView);
    }

    function plugin(hook, vm) {
        hook.init(function () {
            initPlugin(vm);
        });

        hook.mounted(function () {
            if (vm.route.query.compact) {
                vm.config.topMargin = 0;
                vm.config.hideSidebar = true;
                vm.customConfig.compact = true;
            }

            initNavBar(vm);
            updateSidebar(vm);
        });

        hook.afterEach(function (html, next) {
            var output = resolveImagePathIfNeed(vm, html);
            output = resolveHeading(output);
            next(output);
        });

        hook.doneEach(function () {
            document.title = "TranslationPlugin â¤ï¸ Yii.Guxing"
            updateLanguage(vm);
            updateNavBar(vm);
            updateSidebar(vm);
        });
    }

    function initPlugin(vm) {
        var pathRegex = /^\/((en|ja|ko)\/)?/;
        Object.defineProperty(vm.config, "loadSidebar", {
            get: function () {
                var path = (vm.route.path || "").replace(pathRegex, "")
                if (!path || path === "docs" || path.indexOf("updates/") === 0) {
                    return "_sidebar.md"
                } else if (path === "updates") {
                    return "updates/_sidebar.md"
                }
                return false;
            }
        });

        vm.customConfig = {
            compact: false
        };
    }

    function initNavBar(vm) {
        initNavLinks(vm);
        initNavTranslations(vm);

        var nav = document.querySelector(".app-nav");
        if (nav && vm.customConfig.compact) {
            nav.classList.add("hide")
        }
    }

    function initNavLinks(vm) {
        var navLinks = document.querySelectorAll(".app-nav a[data-path]");
        for (var i = 0; i < navLinks.length; i++) {
            navLinks[i].onclick = function () {
                window.location.href = "#" + getLanguagePath(vm) + this.getAttribute("data-path");

                if (this.id === "nav-home") {
                    setTimeout(function () {
                        document.scrollingElement.scrollTop = 0;
                    }, 0);
                }
            }
        }
    }

    function initNavTranslations(vm) {
        var translationLink = document.querySelector("#nav-translation");
        var menu = document.querySelector(".nav-translations--menu");
        if (translationLink && menu) {
            translationLink.onmousedown = function (e) {
                e.stopPropagation();
            };
            translationLink.onclick = function (e) {
                menu.classList.toggle("show");
            }

            var helpTranslate = document.querySelector("#help-translate");
            menu.onmousedown = function (e) {
                e.stopPropagation();
            };
            menu.onclick = function (e) {
                var isHelpTranslate = helpTranslate && helpTranslate.contains(e.target);
                var isLanguageLink = !isHelpTranslate && e.target.tagName === "A";
                if ((isHelpTranslate || isLanguageLink) && menu.classList.contains("show")) {
                    menu.classList.remove("show");
                }
                if (isLanguageLink) {
                    switchLanguage(vm, e.target.lang)
                }
            };
            document.addEventListener("mousedown", function () {
                if (menu.classList.contains("show")) {
                    menu.classList.remove("show");
                }
            });
        }
    }

    function updateNavBar(vm) {
        var navBar = document.querySelector("nav.app-nav");
        if (!navBar) {
            return;
        }

        var result = /^\/((en|ja|ko)\/)?(docs|updates|support|faq)/.exec(vm.route.path);
        navBar.setAttribute("data-path", result && result[3] || "");
    }

    function updateSidebar(vm) {
        var showSidebar = !vm.customConfig.compact && /^\/((en|ja|ko)\/)?(docs|updates(\/.*)?)?$/.test(vm.route.path);
        var main = document.querySelector("main");
        main && main.classList.toggle("hide-sidebar", !showSidebar);

        if (!showSidebar) {
            return;
        }

        var matchResults = /^\/((en|ja|ko)\/)?updates(\/(.+))?$/.exec(vm.route.path);
        if (!matchResults) {
            return;
        }

        var version = matchResults[4] || LAST_PLUGIN_VERSION;
        var versionItems = document.querySelectorAll(".sidebar-nav > ul > li");
        for (var i = 0; i < versionItems.length; i++) {
            versionItems[i].classList.toggle("active--imp", versionItems[i].innerText.startsWith(version));
        }
    }

    function updateLanguage(vm) {
        var result = /^\/((en|ja|ko)\/)?(.*)/.exec(vm.route.path);
        var lang = result && result[2] || "zh"
        document.documentElement.setAttribute("lang", lang);
    }

    function getLanguagePath(vm) {
        var result = /^(\/((en|ja|ko)\/)?)/.exec(vm.route.path);
        return result && result[0] || "/"
    }

    function switchLanguage(vm, newLanguage) {
        if (newLanguage) {
            var replacement = "/$4";
            if (newLanguage !== "zh") {
                replacement = "/" + newLanguage + replacement;
            }
            var newPath = vm.route.path.replace(/^(\/((en|ja|ko)\/)?)(.*)/, replacement);
            var query = ""
            for (const queryKey in vm.route.query) {
                if (query) {
                    query += "&"
                }
                query += queryKey + "=" + encodeURI(vm.route.query[queryKey] || "");
            }
            if (query) {
                query = "?" + query;
            }
            window.location.href = "#" + newPath + query;
        }
    }

    function resolveImagePathIfNeed(vm, html) {
        if (!html || !/^\/((en|ja|ko)\/)?updates(\/.*)?$/.test(vm.route.path)) {
            return html;
        }

        return html.replace(/<img src="(.+?)"(.*?)data-origin="(.+?)"(.*?)>/g, '<img src=".$3"$2$4>');
    }

    function resolveHeading(html) {
        if (!html) {
            return html;
        }

        try {
            var reg = /<(?<tag>h[1-6])(?<ha> .*?)??><a(?<aa> .*?)??>(?<txt>.*?)<\/a><\/\k<tag>>/g;
            return html.replace(reg, '<$<tag>$<ha>>$<txt><a$<aa>>#</a></$<tag>>');
        } catch (e) {
        }

        return html;
    }

    window.$docsify = {
        // name: "TranslationPlugin",
        onlyCover: true,
        auto2top: true,
        relativePath: true,
        executeScript: true,
        loadSidebar: false,
        maxLevel: 3,
        topMargin: 60,
        plugins: [plugin, gaPlugin],
        coverpage: ['/', '/en/', '/ja/', '/ko/'],
        fallbackLanguages: ['en', 'ja', 'ko'],
        nameLink: {
            '/en/': '#/en/',
            '/ja/': '#/ja/',
            '/ko/': '#/ko/',
            '/': '#/',
        },
        alias: {
            "((/(en|ja|ko))?)/docs": "$1/",
            "((/(en|ja|ko))?)/updates(/?)": "$1/updates/" + LAST_PLUGIN_VERSION,
            "((/(en|ja|ko))?)/updates/updates/_sidebar.md": "$1/updates/_sidebar.md",
        },
    };

    (function (hash) {
        var search = hash.split("?")[1];
        if (search) {
            var searchParams = new URLSearchParams(search);
            if (searchParams.get('compact')) {
                var nav = document.querySelector(".app-nav");
                nav && nav.classList.add("hide");
            }
        }
    })(window.location.hash);
</script>
<!-- Docsify v4 -->
<script src="js/docsify@4.js"></script>
<script src="js/external-script.min.js"></script>
</body>
</html>
